{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    :root {
        --primary-blue: #1a6dbb;
        --dark-blue: #0d4d8c;
        --light-blue: #e9f2fa;
        --background-blue: #f0f7ff;
    }
    
    .hospital-header {
        background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
        color: white;
        padding: 3rem 0;
        text-align: center;
        margin-bottom: 2rem;
        border-radius: 0 0 10px 10px;
    }
    
    .hospital-header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }
    
    .hospital-header .subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        max-width: 800px;
        margin: 0 auto;
    }
    
    .info-section {
        margin-bottom: 3rem;
    }
    
    .section-title {
        color: var(--dark-blue);
        border-bottom: 3px solid var(--light-blue);
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
        font-weight: 600;
    }
    
    .section-title i {
        color: var(--primary-blue);
        margin-right: 10px;
    }
    
    .info-card {
        background: white;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        border-left: 4px solid var(--primary-blue);
        transition: transform 0.3s ease;
    }
    
    .info-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    .card-icon {
        color: var(--primary-blue);
        font-size: 2rem;
        margin-bottom: 1rem;
    }
    
    .card-title {
        color: var(--dark-blue);
        font-weight: 600;
        margin-bottom: 1rem;
    }
    
    .highlight-box {
        background-color: var(--light-blue);
        border-left: 4px solid var(--primary-blue);
        padding: 1.25rem;
        border-radius: 6px;
        margin: 1.5rem 0;
    }
    
    .team-member {
        text-align: center;
        padding: 1rem;
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }
    
    .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .badge-glass {
        background: rgba(26, 109, 187, 0.1);
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
    }
    
    @media (max-width: 768px) {
        .hospital-header h1 {
            font-size: 2rem;
        }
        
        .hospital-header {
            padding: 2rem 0;
        }
    }
</style>

<!-- Nav interne -->
<nav class="container py-3 d-flex justify-content-center">
  <div class="d-inline-flex gap-3 flex-wrap">
    <a class="btn btn-sm btn-outline-primary" href="#informations"><i class="bi bi-info-circle"></i> Informations</a>
    <a class="btn btn-sm btn-outline-primary" href="#formalites"><i class="bi bi-file-earmark-text"></i> Formalités</a>
    <a class="btn btn-sm btn-outline-primary" href="#sejour"><i class="bi bi-calendar-check"></i> Votre séjour</a>
    <a class="btn btn-sm btn-outline-primary" href="#bloc"><i class="bi bi-hospital"></i> Bloc opératoire</a>
    <a class="btn btn-sm btn-outline-primary" href="#accompagnement"><i class="bi bi-heart-pulse"></i> Accompagnement</a>
    <a class="btn btn-sm btn-outline-primary" href="#sortie"><i class="bi bi-door-open"></i> Votre sortie</a>
  </div>
</nav>

<!-- HERO -->
<section class="container hero py-5">
  <div class="glass-card p-4 d-flex flex-column flex-lg-row gap-4 align-items-center">
    <div class="flex-grow-1">
      <h1 class="display-6 fw-bold mb-2">Prise en charge du malade</h1>
      <p class="lead text-muted mb-3">Toutes les informations nécessaires pour votre séjour à l'EPH Sidi Ghilès, de l'admission à la sortie.</p>
      <div class="d-flex gap-2">
        <a href="#informations" class="btn btn-primary">Commencer</a>
        <a href="#formalites" class="btn btn-outline-primary">Documents nécessaires</a>
      </div>
    </div>
    <div class="d-flex align-items-center">
      <img src="{% static 'images/pemalade.png' %}" alt="Prise en charge du malade" style="width:180px;height:120px;object-fit:cover;border-radius:8px;">
    </div>
  </div>
</section>

<!-- INFORMATIONS GENERALES -->
<section id="informations" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-info-circle"></i> Ce qu'il faut savoir</h2>
  
  <div class="glass-card p-4">
    <div class="row">
      <div class="col-md-8">
        <p class="text-muted">La consultation est un moment privilégié dans la compréhension et le traitement de votre maladie. Elle nécessite un dialogue personnel et un examen médical auprès d'un médecin.</p>
        <p class="text-muted">Les consultations sont assurées tous les jours matin et après-midi, du samedi au jeudi inclus. Des examens complémentaires (prise de sang, échographie, radiographie, etc.) peuvent être réalisés à l'issue de la consultation.</p>
        
        <div class="highlight-box">
          <p><strong><i class="fas fa-exclamation-triangle me-2"></i>En cas d'urgence :</strong> Contactez d'abord votre médecin traitant pour qu'il évalue si votre problème nécessite une consultation en urgence à l'EPH.</p>
          <p><strong><i class="fas fa-clipboard-check me-2"></i>Important :</strong> Munissez-vous de votre carte de santé ou de votre résumé standard de sortie lors de votre prise en charge.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="team-member">
          <div class="badge-glass">
            <i class="fas fa-calendar-alt fs-4 text-primary"></i>
          </div>
          <h5>Horaires de consultation</h5>
          <p class="text-muted small">Du samedi au jeudi<br>Matin : 8h - 12h<br>Après-midi : 13h - 16h</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FORMALITES ET DOCUMENTS -->
<section id="formalites" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-file-alt"></i> Formalités et documents à fournir</h2>
  
  <div class="row g-4">
    <div class="col-md-4">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-file-medical fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Documents médicaux</h5>
        <ul class="small text-muted">
          <li>Tous documents médicaux utiles</li>
          <li>Lettres, radiographies, comptes rendus</li>
          <li>Examens de laboratoire récents</li>
          <li>Ordonnance de traitement en cours</li>
          <li>Carte de groupe sanguin (si disponible)</li>
        </ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-id-card fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Pièces d'identité</h5>
        <ul class="small text-muted">
          <li>Carte nationale d'identité</li>
          <li>Carte vitale avec attestation</li>
          <li>Carte de sécurité sociale</li>
          <li>Document d'hospitalisation</li>
          <li>Livret de famille (maternité)</li>
        </ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-user-md fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Coordonnées importantes</h5>
        <ul class="small text-muted">
          <li>Médecin traitant (nom, adresse, téléphone)</li>
          <li>Personne à prévenir en urgence</li>
          <li>Complémentaire santé</li>
          <li>Contact familial désigné</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- VOTRE SEJOUR -->
<section id="sejour" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-procedures"></i> Votre arrivée et séjour</h2>
  
  <div class="row g-4">
    <div class="col-lg-8">
      <div class="glass-card p-4">
        <h5><i class="fas fa-sign-in-alt me-2 text-primary"></i>À votre arrivée</h5>
        <p class="text-muted">Selon le motif d'hospitalisation, l'entrée a lieu la veille, le jour même ou quelques jours avant si des examens complexes sont nécessaires.</p>
        
        <div class="highlight-box">
          <p><strong><i class="fas fa-ban me-2"></i>À jeun pour une intervention :</strong> Si vous êtes hospitalisé le matin de l'intervention, être à jeun à partir de minuit (ne pas manger, ne pas boire, ne pas fumer).</p>
        </div>
        
        <p class="text-muted">À votre arrivée, vous serez accueilli par l'infirmier(e) ou la surveillante du service qui vous conduira à votre chambre et vous fournira les explications nécessaires.</p>
        
        <h5 class="mt-4"><i class="fas fa-bed me-2 text-primary"></i>Conditions de séjour</h5>
        <p class="text-muted">La plupart des chambres sont des chambres de 2 à 3 lits, certaines disposant de toilettes privatives. Tous les services disposent de toilettes et douches collectifs avec eau chaude.</p>
        <p class="text-muted">Les services sont équipés de réfrigérateurs et de téléviseurs pour les patients. Tout est prévu pour votre confort pendant votre séjour.</p>
      </div>
    </div>
    
    <div class="col-lg-4">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-users fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Équipes soignantes</h5>
        <p class="text-muted small"><strong>Équipe soignante :</strong> Prend en charge les patients de façon personnalisée pour définir avec eux les objectifs de soins.</p>
        <p class="text-muted small"><strong>Équipe hôtelière :</strong> Assure l'hygiène des locaux et le service des repas, conciliant règles d'hygiène et confort des patients.</p>
        
        <div class="mt-3">
          <h6><i class="fas fa-user-nurse me-1 text-info"></i>Composition :</h6>
          <ul class="small text-muted">
            <li>Infirmiers et aides-soignants</li>
            <li>Surveillantes de soins</li>
            <li>Agents hôteliers</li>
            <li>Gouvernant(e)</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- BLOC OPERATOIRE -->
<section id="bloc" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-user-md"></i> Le bloc opératoire</h2>
  
  <div class="glass-card p-4">
    <p class="text-muted">Un programme opératoire est réparti du samedi au jeudi, avec des interventions d'urgence disponibles 24h/24 toute la semaine. Le bloc opératoire est situé au rez-de-chaussée.</p>
    
    <div class="row g-4 mt-3">
      <div class="col-md-4">
        <div class="team-member">
          <i class="fas fa-user-md fa-3x mb-3" style="color: #1a6dbb;"></i>
          <h6>Dr Brahimi Amar</h6>
          <p class="text-muted small">Médecin spécialiste en chirurgie générale<br>Responsable du bloc opératoire</p>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="team-member">
          <i class="fas fa-user-nurse fa-3x mb-3" style="color: #1a6dbb;"></i>
          <h6>Amrouche Rachid</h6>
          <p class="text-muted small">Cadre infirmier du bloc opératoire</p>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="team-member">
          <i class="fas fa-user-nurse fa-3x mb-3" style="color: #1a6dbb;"></i>
          <h6>Mantri Khaled</h6>
          <p class="text-muted small">Cadre infirmier du bloc opératoire</p>
        </div>
      </div>
    </div>
    
    <div class="row mt-4">
      <div class="col-md-6">
        <div class="info-card">
          <h6><i class="fas fa-hospital-alt me-2 text-primary"></i>Infrastructures</h6>
          <ul class="small text-muted">
            <li>05 salles d'opération</li>
            <li>1 salle dédiée Orthopédie-Traumatologie</li>
            <li>04 salles de chirurgie générale</li>
            <li>2 salles équipées d'appareils endoscopiques</li>
            <li>Unité de réanimation post-opératoire</li>
          </ul>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="info-card">
          <h6><i class="fas fa-clock me-2 text-primary"></i>Organisation</h6>
          <ul class="small text-muted">
            <li>Programmé du samedi au jeudi</li>
            <li>Urgences 24h/24 toute la semaine</li>
            <li>Séjour en réanimation : 6h à 24h</li>
            <li>Retour en hospitalisation normale généralement à 9h</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ACCOMPAGNEMENT SPECIALISE -->
<section id="accompagnement" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-hand-holding-heart"></i> Accompagnement spécialisé</h2>
  
  <div class="row g-4">
    <div class="col-md-6">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-pain-scale fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Prise en charge de la douleur</h5>
        <p class="text-muted small">Prévenir et soulager votre douleur est un engagement de tout le personnel de l'EPH.</p>
        <ul class="small text-muted">
          <li>Évaluation régulière (échelle de 0 à 10)</li>
          <li>Protocoles post-opératoires spécifiques</li>
          <li>Infirmière spécialisée en douleur</li>
          <li>Comité de Lutte contre la Douleur (CLUD)</li>
          <li>Plaquette d'information fournie</li>
        </ul>
        <div class="mt-3 highlight-box">
          <p class="small mb-0"><strong>Votre participation est essentielle :</strong> N'hésitez pas à parler de votre douleur au médecin anesthésiste et aux soignants.</p>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="info-card h-100">
        <div class="badge-glass">
          <i class="fas fa-brain fs-4 text-primary"></i>
        </div>
        <h5 class="card-title">Soutien psychologique et social</h5>
        <p class="text-muted small"><strong>Psychologues :</strong> En fonction de vos besoins, un psychologue peut intervenir durant votre hospitalisation.</p>
        <p class="text-muted small"><strong>Assistante sociale :</strong> À votre disposition pour vous conseiller et vous aider à résoudre vos difficultés (convalescence, aide à domicile, etc.).</p>
        
        <div class="mt-3">
          <h6><i class="fas fa-home me-1 text-info"></i>Hospitalisation à domicile (HAD)</h6>
          <p class="text-muted small">Disponible depuis 2006, rattachée au service de médecine interne.</p>
          <ul class="small text-muted">
            <li>10 lits d'hospitalisation à domicile</li>
            <li>Pour patients dont l'état le permet</li>
            <li>Équipe médicale mobile avec véhicule</li>
            <li>Intervention dans la daïra de Cherchell</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- VOTRE SORTIE -->
<section id="sortie" class="container py-5 info-section fade-in">
  <h2 class="section-title"><i class="fas fa-sign-out-alt"></i> Votre sortie</h2>
  
  <div class="glass-card p-4">
    <div class="row g-4">
      <div class="col-md-4">
        <div class="info-card h-100">
          <div class="badge-glass">
            <i class="fas fa-calendar-check fs-4 text-primary"></i>
          </div>
          <h5 class="card-title">Préparation de la sortie</h5>
          <ul class="small text-muted">
            <li>Date déterminée par le chirurgien/médecin</li>
            <li>Organisation 24-48h avant avec la surveillante</li>
            <li>Préparez vos questions spécifiques</li>
            <li>Fournissez coordonnées médecin traitant</li>
            <li>Sorties le matin uniquement</li>
          </ul>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="info-card h-100">
          <div class="badge-glass">
            <i class="fas fa-file-medical-alt fs-4 text-primary"></i>
          </div>
          <h5 class="card-title">Dossier de sortie</h5>
          <ul class="small text-muted">
            <li>Ordonnances</li>
            <li>Rendez-vous de consultation</li>
            <li>Conseils diététiques si nécessaire</li>
            <li>Compte rendu opératoire (sur demande)</li>
            <li>Résultats d'examens (sur demande)</li>
            <li>Questionnaire de satisfaction</li>
          </ul>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="info-card h-100">
          <div class="badge-glass">
            <i class="fas fa-ambulance fs-4 text-primary"></i>
          </div>
          <h5 class="card-title">Organisation pratique</h5>
          <ul class="small text-muted">
            <li><strong>Convalescence :</strong> Réservation en centre si nécessaire</li>
            <li><strong>Transport :</strong> Ambulance sur prescription médicale</li>
            <li><strong>Administratif :</strong> Passage au service des admissions</li>
            <li><strong>Facturation :</strong> Téléphone et forfait journalier</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="highlight-box mt-4">
      <h6><i class="fas fa-comments me-2 text-primary"></i>Information des familles</h6>
      <p class="mb-2">Afin d'éviter les appels multiples, désignez une personne parmi vos proches qui sera chargée de prendre de vos nouvelles.</p>
      <p class="small text-muted mb-0"><strong>Confidentialité :</strong> Aucune information médicale ne sera délivrée sans votre accord. Un proche peut prendre rendez-vous avec un médecin pour un entretien.</p>
    </div>
  </div>
</section>

<!-- ANIMATIONS & SCRIPTS -->
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Fade-in animation
    gsap.utils.toArray('.fade-in').forEach(function(section) {
      gsap.from(section, {
        scrollTrigger: {
          trigger: section,
          start: "top 85%",
          toggleActions: "play none none reverse"
        },
        y: 20,
        opacity: 0,
        duration: 0.7
      });
    });

    // Glass cards animation
    gsap.utils.toArray('.glass-card').forEach(function(card, i) {
      gsap.from(card, {
        scrollTrigger: {
          trigger: card,
          start: "top 85%",
          toggleActions: "play none none reverse"
        },
        y: 20,
        opacity: 0,
        duration: 0.6,
        delay: i * 0.05
      });
    });

    // Info cards animation
    gsap.utils.toArray('.info-card').forEach(function(card, i) {
      gsap.from(card, {
        scrollTrigger: {
          trigger: card,
          start: "top 90%",
          toggleActions: "play none none reverse"
        },
        y: 15,
        opacity: 0,
        duration: 0.5,
        delay: i * 0.03
      });
    });

    // Hover effect on badges
    gsap.utils.toArray('.badge-glass').forEach(function(b) {
      b.addEventListener('mouseenter', () => gsap.to(b, {scale: 1.05, duration: 0.2}));
      b.addEventListener('mouseleave', () => gsap.to(b, {scale: 1, duration: 0.2}));
    });

    // Smooth scroll for internal navigation
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (!target) return;
        
        // Update active button in internal nav
        document.querySelectorAll('nav .btn').forEach(btn => {
          btn.classList.remove('active');
        });
        this.classList.add('active');
        
        // Smooth scroll
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      });
    });
    
    // Animation for section titles
    gsap.utils.toArray('.section-title').forEach(function(title) {
      gsap.from(title, {
        scrollTrigger: {
          trigger: title,
          start: "top 90%",
          toggleActions: "play none none reverse"
        },
        x: -20,
        opacity: 0,
        duration: 0.6
      });
    });
  });
</script>

{% endblock %}
